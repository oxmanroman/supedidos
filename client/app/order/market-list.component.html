<md-input-container md-no-float class="md-no-line md-no-errors mar-t-0 flex-center-align">
    <i class="mdi mdi-magnify"></i>
    <input ng-model="ctrl.filter" type="text" placeholder="{{::'FILTER' | translate}}">
</md-input-container>

<div class="markets grid-container" layout="row" layout-wrap>
    <div ng-repeat="market in ctrl.markets | filter:ctrl.filter"
        class="grid-item pointer"
        dy-flexible-flex
        dy-affected-index="0,1"
        dy-affected-flex="50"
        dy-default-flex="33">

        <div class="card market-card">
            <div class="img img-cover" dy-back-img="::market.category.image"></div>

            <div class="bk-white pad">
                <small class="category" dy-color="::market.category.color">{{::market.category.name}}</small>
                <h3 class="name">{{::market.name}}</h3>
                <span class="description">{{::market.description | ellipsis: 140}}</span>

                <span class="divider horizontal"></span>

                <div class="metrics">
                    <div ng-if="::market.distance">
                        <span class="title">{{::market.distance | relativeDistance}}</span>
                        <small class="subtitle">{{::'OF_DISTANCE' | translate}}</small>
                    </div>
                    <div ng-if="::market.deliveryTime">
                        <span class="title">{{::market.deliveryTime | relativeTime:'minutes' | lowercase}}</span>
                        <small class="subtitle">{{::'DELIVERY_TIME' | translate}}</small>
                    </div>
                    <div>
                        <span class="title">Gratis</span>
                        <small class="subtitle">{{::'SHIPPING_COST' | translate}}</small>
                    </div>
                    <div>
                        <span class="title" ng-if="::market.minOrder">{{::market.minOrder}}$</span>
                        <span class="title" ng-if="::!market.minOrder">{{::'FREE' | translate}}</span>
                        <small class="subtitle">{{::'MIN_ORDER' | translate}}</small>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
